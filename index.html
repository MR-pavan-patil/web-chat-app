<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ”¥ Ultimate Real-Time Chat</title>
    <link rel="stylesheet" href="style.css">
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>
    <!-- Auth Screen -->
    <div id="authScreen" class="auth-container">
        <div class="auth-box">
            <div class="auth-logo">ğŸ’¬</div>
            <h1 class="auth-title">ChatHub Pro</h1>
            <p class="auth-subtitle">Connect, Chat, Collaborate</p>

            <div class="auth-tabs">
                <button class="auth-tab active" data-tab="login">Login</button>
                <button class="auth-tab" data-tab="signup">Sign Up</button>
            </div>

            <!-- Login Form -->
            <div id="loginForm" class="auth-form active">
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="loginEmail" placeholder="Email" class="auth-input">
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="loginPassword" placeholder="Password" class="auth-input">
                </div>
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="loginUsername" placeholder="Display Name" class="auth-input">
                </div>
                <button id="loginBtn" class="auth-btn">
                    <i class="fas fa-sign-in-alt"></i> Login
                </button>
            </div>

            <!-- Signup Form -->
            <div id="signupForm" class="auth-form">
                <div class="input-group">
                    <i class="fas fa-user"></i>
                    <input type="text" id="signupUsername" placeholder="Full Name" class="auth-input">
                </div>
                <div class="input-group">
                    <i class="fas fa-envelope"></i>
                    <input type="email" id="signupEmail" placeholder="Email" class="auth-input">
                </div>
                <div class="input-group">
                    <i class="fas fa-lock"></i>
                    <input type="password" id="signupPassword" placeholder="Password (min 6 chars)" class="auth-input">
                </div>
                <button id="signupBtn" class="auth-btn">
                    <i class="fas fa-user-plus"></i> Create Account
                </button>
            </div>

            <div class="auth-status" id="authStatus"></div>

            <div class="auth-note">
                <i class="fas fa-info-circle"></i>
                <span>Your messages are encrypted and stored securely</span>
            </div>
        </div>
    </div>

    <!-- Chat Screen -->
    <div id="chatScreen" class="chat-container" style="display: none;">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <div class="app-logo">
                    <i class="fas fa-comments"></i>
                    <span>ChatHub Pro</span>
                </div>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-bars"></i>
                </button>
            </div>

            <!-- User Profile -->
            <div class="user-profile">
                <div class="profile-avatar">
                    <img id="sidebarAvatar" src="" alt="avatar">
                    <span class="online-badge"></span>
                </div>
                <div class="profile-info">
                    <h3 id="sidebarUsername">User</h3>
                    <p class="profile-status">Online</p>
                </div>
                <button class="profile-settings" id="settingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>

            <!-- Rooms List -->
            <div class="sidebar-section">
                <h4 class="section-title">
                    <i class="fas fa-hashtag"></i> Channels
                </h4>
                <div class="rooms-list">
                    <button class="room-item active" data-room="general">
                        <i class="fas fa-comments"></i>
                        <span>General</span>
                        <span class="unread-badge">0</span>
                    </button>
                    <button class="room-item" data-room="tech">
                        <i class="fas fa-code"></i>
                        <span>Tech Talk</span>
                        <span class="unread-badge">0</span>
                    </button>
                    <button class="room-item" data-room="random">
                        <i class="fas fa-random"></i>
                        <span>Random</span>
                        <span class="unread-badge">0</span>
                    </button>
                    <button class="room-item" data-room="gaming">
                        <i class="fas fa-gamepad"></i>
                        <span>Gaming</span>
                        <span class="unread-badge">0</span>
                    </button>
                    <button class="room-item" data-room="music">
                        <i class="fas fa-music"></i>
                        <span>Music</span>
                        <span class="unread-badge">0</span>
                    </button>
                </div>
            </div>

            <!-- Online Users -->
            <div class="sidebar-section">
                <h4 class="section-title">
                    <i class="fas fa-users"></i> Online Users
                    <span class="online-count" id="onlineCount">0</span>
                </h4>
                <div id="onlineUsers" class="online-users-list">
                    <!-- Dynamic users will be added here -->
                </div>
            </div>
        </div>

        <!-- Main Chat Area -->
        <div class="main-content">
            <!-- Chat Header -->
            <div class="chat-header">
                <div class="header-left">
                    <button class="mobile-menu-btn" id="mobileMenuBtn">
                        <i class="fas fa-bars"></i>
                    </button>
                    <div class="room-info">
                        <h2 id="currentRoomName">
                            <i class="fas fa-hashtag"></i> General
                        </h2>
                        <p id="roomDescription">Welcome to general chat</p>
                    </div>
                </div>
                <div class="header-right">
                    <button class="header-btn" id="searchBtn">
                        <i class="fas fa-search"></i>
                    </button>
                    <button class="header-btn" id="themeToggle">
                        <i class="fas fa-moon"></i>
                    </button>
                    <button class="header-btn" id="notificationToggle">
                        <i class="fas fa-bell"></i>
                    </button>
                    <div class="user-menu">
                        <img id="headerAvatar" src="" alt="avatar" class="header-avatar">
                        <div class="user-dropdown">
                            <button id="profileBtn">
                                <i class="fas fa-user"></i> Profile
                            </button>
                            <button id="logoutBtn">
                                <i class="fas fa-sign-out-alt"></i> Logout
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Search Bar (Hidden by default) -->
            <div class="search-bar" id="searchBar" style="display: none;">
                <i class="fas fa-search"></i>
                <input type="text" id="searchInput" placeholder="Search messages...">
                <button id="closeSearch">
                    <i class="fas fa-times"></i>
                </button>
            </div>

            <!-- Messages Container -->
            <div id="messagesContainer" class="messages-container">
                <div class="welcome-message">
                    <i class="fas fa-comments"></i>
                    <h3>Welcome to ChatHub Pro!</h3>
                    <p>Start a conversation and connect with others</p>
                </div>
            </div>

            <!-- Typing Indicator -->
            <div id="typingIndicator" class="typing-indicator" style="display: none;">
                <div class="typing-dots">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <span id="typingText">Someone is typing...</span>
            </div>

            <!-- Message Input Area -->
            <div class="input-container">
                <div class="input-actions">
                    <button class="input-btn" id="emojiBtn" title="Emoji">
                        <i class="fas fa-smile"></i>
                    </button>
                    <button class="input-btn" id="fileBtn" title="Attach File">
                        <i class="fas fa-paperclip"></i>
                    </button>
                    <input type="file" id="fileInput" accept="image/*,.pdf,.doc,.docx" style="display: none;">
                </div>
                <div class="message-input-wrapper">
                    <textarea id="messageInput" placeholder="Type a message... (Press Enter to send, Shift+Enter for new line)" rows="1" maxlength="1000"></textarea>
                    <div class="char-counter">
                        <span id="charCount">0</span>/1000
                    </div>
                </div>
                <button class="send-btn" id="sendBtn">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>

            <!-- Emoji Picker (Hidden by default) -->
            <div class="emoji-picker" id="emojiPicker" style="display: none;">
                <div class="emoji-header">
                    <span>Choose an emoji</span>
                    <button id="closeEmoji">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="emoji-grid">
                    ğŸ˜€ ğŸ˜ƒ ğŸ˜„ ğŸ˜ ğŸ˜† ğŸ˜… ğŸ˜‚ ğŸ¤£ ğŸ˜Š ğŸ˜‡ ğŸ™‚ ğŸ™ƒ ğŸ˜‰ ğŸ˜Œ ğŸ˜ ğŸ¥° ğŸ˜˜ ğŸ˜— ğŸ˜™ ğŸ˜š ğŸ˜‹ ğŸ˜› ğŸ˜ ğŸ˜œ ğŸ¤ª ğŸ¤¨ ğŸ§ ğŸ¤“ ğŸ˜ ğŸ¤© ğŸ¥³ ğŸ˜ ğŸ˜’ ğŸ˜ ğŸ˜” ğŸ˜Ÿ ğŸ˜• ğŸ™ â˜¹ï¸ ğŸ˜£ ğŸ˜– ğŸ˜« ğŸ˜© ğŸ¥º ğŸ˜¢ ğŸ˜­ ğŸ˜¤ ğŸ˜  ğŸ˜¡ ğŸ¤¬ ğŸ¤¯ ğŸ˜³ ğŸ¥µ ğŸ¥¶ ğŸ˜± ğŸ˜¨ ğŸ˜° ğŸ˜¥ ğŸ˜“ ğŸ¤— ğŸ¤” ğŸ¤­ ğŸ¤« ğŸ¤¥ ğŸ˜¶ ğŸ˜ ğŸ˜‘ ğŸ˜¬ ğŸ™„ ğŸ˜¯ ğŸ˜¦ ğŸ˜§ ğŸ˜® ğŸ˜² ğŸ¥± ğŸ˜´ ğŸ¤¤ ğŸ˜ª ğŸ˜µ ğŸ¤ ğŸ¥´ ğŸ¤¢ ğŸ¤® ğŸ¤§
                    ğŸ˜· ğŸ¤’ ğŸ¤• ğŸ¤‘ ğŸ¤  ğŸ‘ ğŸ‘ ğŸ‘ ğŸ™Œ ğŸ‘ ğŸ¤ ğŸ™ âœŒï¸ ğŸ¤ ğŸ¤Ÿ ğŸ¤˜ ğŸ¤™ ğŸ‘ˆ ğŸ‘‰ ğŸ‘† ğŸ‘‡ â˜ï¸ âœ‹ ğŸ¤š ğŸ– ğŸ–– â¤ï¸ ğŸ§¡ ğŸ’› ğŸ’š ğŸ’™ ğŸ’œ ğŸ–¤ ğŸ¤ ğŸ¤ ğŸ’” â£ï¸ ğŸ’• ğŸ’ ğŸ’“ ğŸ’— ğŸ’– ğŸ’˜ ğŸ’ ğŸ”¥ âœ¨ â­ ğŸŒŸ ğŸ’« âš¡ ğŸ‰ ğŸŠ ğŸˆ ğŸ ğŸ† ğŸ¥‡
                </div>
            </div>
        </div>
    </div>

    <!-- Notification Sound -->
    <audio id="notificationSound" preload="auto">
        <source src="data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmwhBSuBzvLZiTcIGWi77eefTRAMUKfj8LZjHAY4kdfy" type="audio/wav">
    </audio>

    <!-- Firebase & App Scripts -->
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="app.js"></script>
</body>

</html>